import { Component, EventEmitter, Input, Output, ViewChildren, ViewContainerRef } from '@angular/core';
import { delay } from 'rxjs/operators';
import * as i0 from "@angular/core";
import * as i1 from "./cells/custom.component";
import * as i2 from "./cells/expand.component";
import * as i3 from "./cells/edit-delete.component";
import * as i4 from "./cells/save-cancel.component";
import * as i5 from "../cell/cell.component";
import * as i6 from "@angular/common";
import * as i7 from "@angular/forms";
export class NgxSmartTableTbodyComponent {
    constructor() {
        this.edit = new EventEmitter();
        this.delete = new EventEmitter();
        this.custom = new EventEmitter();
        this.userSelectRow = new EventEmitter();
        this.editRowSelect = new EventEmitter();
        this.multipleSelectRow = new EventEmitter();
        this.rowHover = new EventEmitter();
        this.onExpandRow = new EventEmitter();
        this.hasChildComponent = false;
    }
    ngAfterViewInit() {
        let cmp = this.getExpandedRowComponentFromSettings();
        if (cmp && !this.expandedRowComponent) {
            this.expandedRowChild.forEach(c => c.clear());
            this.hasChildComponent = true;
            this.createCustomComponent();
        }
    }
    ngOnDestroy() {
        if (this.expandedRowComponent)
            this.expandedRowComponent.destroy();
    }
    getExpandedRowComponentFromSettings() {
        return this.grid.settings.expand?.component ?? this.grid.settings.expandedRowComponent;
    }
    createCustomComponent() {
        let cmp = this.getExpandedRowComponentFromSettings();
        if (cmp) {
            this.expandedRowChild.changes
                .pipe(delay(0))
                .subscribe((list) => {
                if (list.length) {
                    this.expandedRowComponent = list.first.createComponent(cmp);
                    Object.assign(this.expandedRowComponent.instance, this.grid.dataSet.expandRow, {
                        rowData: this.grid.dataSet.getExpandedRow().getData(),
                    });
                }
            });
        }
    }
    get tableColumnsCount() {
        const actionColumn = this.isActionAdd || this.isActionEdit || this.isActionDelete ? 1 : 0;
        const selectColumn = this.isMultiSelectVisible ? 1 : 0;
        return this.grid.getColumns().length + actionColumn + selectColumn;
    }
    ngOnChanges() {
        this.isMultiSelectVisible = this.grid.isMultiSelectVisible();
        this.showActionColumnLeft = this.grid.showActionColumn('left');
        this.mode = this.grid.getSetting('mode');
        this.editInputClass = this.grid.getSetting('edit.inputClass');
        this.showActionColumnRight = this.grid.showActionColumn('right');
        this.isActionAdd = this.grid.getSetting('actions.add');
        this.isActionEdit = this.grid.getSetting('actions.edit');
        this.isActionDelete = this.grid.getSetting('actions.delete');
        this.noDataMessage = this.grid.getSetting('noDataMessage');
    }
    getVisibleCells(cells) {
        return (cells || []).filter((cell) => !cell.getColumn().hide);
    }
    onExpandRowClick(row) {
        this.onExpandRow.emit(row);
    }
}
NgxSmartTableTbodyComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "13.3.12", ngImport: i0, type: NgxSmartTableTbodyComponent, deps: [], target: i0.ɵɵFactoryTarget.Component });
NgxSmartTableTbodyComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "12.0.0", version: "13.3.12", type: NgxSmartTableTbodyComponent, selector: "[angular2-st-tbody]", inputs: { grid: "grid", source: "source", deleteConfirm: "deleteConfirm", editConfirm: "editConfirm", editCancel: "editCancel", rowClassFunction: "rowClassFunction" }, outputs: { edit: "edit", delete: "delete", custom: "custom", userSelectRow: "userSelectRow", editRowSelect: "editRowSelect", multipleSelectRow: "multipleSelectRow", rowHover: "rowHover", onExpandRow: "onExpandRow" }, viewQueries: [{ propertyName: "expandedRowChild", predicate: ["expandedRowChild"], descendants: true, read: ViewContainerRef }], usesOnChanges: true, ngImport: i0, template: "<ng-container  *ngFor=\"let row of grid.getRows()\">\n  <tr (click)=\"userSelectRow.emit(row)\" (mouseover)=\"rowHover.emit(row)\" class=\"angular2-smart-row\" [className]=\"rowClassFunction(row)\" [ngClass]=\"{selected: row.isSelected}\">\n    <td *ngIf=\"isMultiSelectVisible\" class=\"angular2-smart-actions angular2-smart-action-multiple-select\" (click)=\"multipleSelectRow.emit(row)\">\n      <input type=\"checkbox\" class=\"form-check-input\" [ngModel]=\"row.isSelected\">\n    </td>\n    <td *ngIf=\"!row.isInEditing && showActionColumnLeft\" class=\"angular2-smart-actions\">\n\n      <angular2-st-tbody-custom\n        [grid]=\"grid\"\n        (custom)=\"custom.emit($event)\"\n        [row]=\"row\"\n        [source]=\"source\">\n      </angular2-st-tbody-custom>\n\n      <angular2-st-tbody-expand\n          *ngIf=\"hasChildComponent\"\n          [grid]=\"grid\"\n          [row]=\"row\"\n          (onExpandRow)=\"onExpandRow.emit(row)\">\n      </angular2-st-tbody-expand>\n\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\n                                [deleteConfirm]=\"deleteConfirm\"\n                                (edit)=\"edit.emit($event)\"\n                                (delete)=\"delete.emit($event)\"\n                                (editRowSelect)=\"editRowSelect.emit($event)\"\n                                [row]=\"row\"\n                                [source]=\"source\">\n      </angular2-st-tbody-edit-delete>\n    </td>\n    <td *ngIf=\"row.isInEditing && showActionColumnLeft\"  class=\"angular2-smart-actions\">\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\n    </td>\n    <td *ngFor=\"let cell of getVisibleCells(row.cells)\">\n      <angular2-smart-table-cell [cell]=\"cell\"\n                            [grid]=\"grid\"\n                            [row]=\"row\"\n                            [isNew]=\"false\"\n                            [mode]=\"mode\"\n                            [editConfirm]=\"editConfirm\"\n                            [editCancel]=\"editCancel\"\n                            [inputClass]=\"editInputClass\"\n                            [isInEditing]=\"row.isInEditing\">\n      </angular2-smart-table-cell>\n    </td>\n\n    <td *ngIf=\"row.isInEditing && showActionColumnRight\"  class=\"angular2-smart-actions\">\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\n    </td>\n\n    <td *ngIf=\"!row.isInEditing && showActionColumnRight\" class=\"angular2-smart-actions\">\n      <angular2-st-tbody-custom [grid]=\"grid\" (custom)=\"custom.emit($event)\" [row]=\"row\" [source]=\"source\"></angular2-st-tbody-custom>\n\n      <angular2-st-tbody-expand\n          *ngIf=\"hasChildComponent\"\n          [grid]=\"grid\"\n          [row]=\"row\"\n          (onExpandRow)=\"onExpandRow.emit(row)\">\n      </angular2-st-tbody-expand>\n\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\n                                [deleteConfirm]=\"deleteConfirm\"\n                                [row]=\"row\"\n                                [source]=\"source\"\n                                (edit)=\"edit.emit($event)\"\n                                (delete)=\"delete.emit($event)\"\n                                (editRowSelect)=\"editRowSelect.emit($event)\">\n      </angular2-st-tbody-edit-delete>\n    </td>\n  </tr>\n  <tr class=\"angular2-smart-row angular2-smart-row-detail\" *ngIf=\"row.isExpanded\">\n    <td [attr.colspan]=\"tableColumnsCount\" class=\"angular2-smart-column-expandedDetail\">\n      <ng-template #expandedRowChild ></ng-template>\n    </td>\n  </tr>\n</ng-container>\n<tr *ngIf=\"grid.getRows().length == 0\">\n  <td [attr.colspan]=\"tableColumnsCount\">\n    {{ noDataMessage }}\n  </td>\n</tr>\n", styles: [":host .angular2-smart-row.selected{background:rgba(0,0,0,.05)}:host .angular2-smart-row .angular2-smart-actions.angular2-smart-action-multiple-select{text-align:center}:host ::ng-deep angular2-st-tbody-edit-delete a:first-child,:host ::ng-deep angular2-st-tbody-create-cancel a:first-child,:host ::ng-deep angular2-st-tbody-expand a:first-child{margin-right:.25rem}\n"], components: [{ type: i1.TbodyCustomComponent, selector: "angular2-st-tbody-custom", inputs: ["grid", "row", "source"], outputs: ["custom"] }, { type: i2.TbodyExpandRowComponent, selector: "angular2-st-tbody-expand", inputs: ["grid", "row"], outputs: ["onExpandRow"] }, { type: i3.TbodyEditDeleteComponent, selector: "angular2-st-tbody-edit-delete", inputs: ["grid", "row", "source", "deleteConfirm"], outputs: ["edit", "delete", "editRowSelect"] }, { type: i4.TbodySaveCancelComponent, selector: "angular2-st-tbody-create-cancel", inputs: ["grid", "row", "editConfirm", "editCancel"] }, { type: i5.CellComponent, selector: "angular2-smart-table-cell", inputs: ["grid", "row", "cell", "inputClass", "mode", "isInEditing", "isNew", "editConfirm", "editCancel", "createConfirm", "createCancel"] }], directives: [{ type: i6.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { type: i6.NgClass, selector: "[ngClass]", inputs: ["class", "ngClass"] }, { type: i6.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { type: i7.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { type: i7.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { type: i7.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }] });
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "13.3.12", ngImport: i0, type: NgxSmartTableTbodyComponent, decorators: [{
            type: Component,
            args: [{ selector: '[angular2-st-tbody]', template: "<ng-container  *ngFor=\"let row of grid.getRows()\">\n  <tr (click)=\"userSelectRow.emit(row)\" (mouseover)=\"rowHover.emit(row)\" class=\"angular2-smart-row\" [className]=\"rowClassFunction(row)\" [ngClass]=\"{selected: row.isSelected}\">\n    <td *ngIf=\"isMultiSelectVisible\" class=\"angular2-smart-actions angular2-smart-action-multiple-select\" (click)=\"multipleSelectRow.emit(row)\">\n      <input type=\"checkbox\" class=\"form-check-input\" [ngModel]=\"row.isSelected\">\n    </td>\n    <td *ngIf=\"!row.isInEditing && showActionColumnLeft\" class=\"angular2-smart-actions\">\n\n      <angular2-st-tbody-custom\n        [grid]=\"grid\"\n        (custom)=\"custom.emit($event)\"\n        [row]=\"row\"\n        [source]=\"source\">\n      </angular2-st-tbody-custom>\n\n      <angular2-st-tbody-expand\n          *ngIf=\"hasChildComponent\"\n          [grid]=\"grid\"\n          [row]=\"row\"\n          (onExpandRow)=\"onExpandRow.emit(row)\">\n      </angular2-st-tbody-expand>\n\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\n                                [deleteConfirm]=\"deleteConfirm\"\n                                (edit)=\"edit.emit($event)\"\n                                (delete)=\"delete.emit($event)\"\n                                (editRowSelect)=\"editRowSelect.emit($event)\"\n                                [row]=\"row\"\n                                [source]=\"source\">\n      </angular2-st-tbody-edit-delete>\n    </td>\n    <td *ngIf=\"row.isInEditing && showActionColumnLeft\"  class=\"angular2-smart-actions\">\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\n    </td>\n    <td *ngFor=\"let cell of getVisibleCells(row.cells)\">\n      <angular2-smart-table-cell [cell]=\"cell\"\n                            [grid]=\"grid\"\n                            [row]=\"row\"\n                            [isNew]=\"false\"\n                            [mode]=\"mode\"\n                            [editConfirm]=\"editConfirm\"\n                            [editCancel]=\"editCancel\"\n                            [inputClass]=\"editInputClass\"\n                            [isInEditing]=\"row.isInEditing\">\n      </angular2-smart-table-cell>\n    </td>\n\n    <td *ngIf=\"row.isInEditing && showActionColumnRight\"  class=\"angular2-smart-actions\">\n      <angular2-st-tbody-create-cancel [grid]=\"grid\" [row]=\"row\" [editConfirm]=\"editConfirm\" [editCancel]=\"editCancel\"></angular2-st-tbody-create-cancel>\n    </td>\n\n    <td *ngIf=\"!row.isInEditing && showActionColumnRight\" class=\"angular2-smart-actions\">\n      <angular2-st-tbody-custom [grid]=\"grid\" (custom)=\"custom.emit($event)\" [row]=\"row\" [source]=\"source\"></angular2-st-tbody-custom>\n\n      <angular2-st-tbody-expand\n          *ngIf=\"hasChildComponent\"\n          [grid]=\"grid\"\n          [row]=\"row\"\n          (onExpandRow)=\"onExpandRow.emit(row)\">\n      </angular2-st-tbody-expand>\n\n      <angular2-st-tbody-edit-delete [grid]=\"grid\"\n                                [deleteConfirm]=\"deleteConfirm\"\n                                [row]=\"row\"\n                                [source]=\"source\"\n                                (edit)=\"edit.emit($event)\"\n                                (delete)=\"delete.emit($event)\"\n                                (editRowSelect)=\"editRowSelect.emit($event)\">\n      </angular2-st-tbody-edit-delete>\n    </td>\n  </tr>\n  <tr class=\"angular2-smart-row angular2-smart-row-detail\" *ngIf=\"row.isExpanded\">\n    <td [attr.colspan]=\"tableColumnsCount\" class=\"angular2-smart-column-expandedDetail\">\n      <ng-template #expandedRowChild ></ng-template>\n    </td>\n  </tr>\n</ng-container>\n<tr *ngIf=\"grid.getRows().length == 0\">\n  <td [attr.colspan]=\"tableColumnsCount\">\n    {{ noDataMessage }}\n  </td>\n</tr>\n", styles: [":host .angular2-smart-row.selected{background:rgba(0,0,0,.05)}:host .angular2-smart-row .angular2-smart-actions.angular2-smart-action-multiple-select{text-align:center}:host ::ng-deep angular2-st-tbody-edit-delete a:first-child,:host ::ng-deep angular2-st-tbody-create-cancel a:first-child,:host ::ng-deep angular2-st-tbody-expand a:first-child{margin-right:.25rem}\n"] }]
        }], propDecorators: { grid: [{
                type: Input
            }], source: [{
                type: Input
            }], deleteConfirm: [{
                type: Input
            }], editConfirm: [{
                type: Input
            }], editCancel: [{
                type: Input
            }], rowClassFunction: [{
                type: Input
            }], edit: [{
                type: Output
            }], delete: [{
                type: Output
            }], custom: [{
                type: Output
            }], userSelectRow: [{
                type: Output
            }], editRowSelect: [{
                type: Output
            }], multipleSelectRow: [{
                type: Output
            }], rowHover: [{
                type: Output
            }], onExpandRow: [{
                type: Output
            }], expandedRowChild: [{
                type: ViewChildren,
                args: ['expandedRowChild', { read: ViewContainerRef }]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGJvZHkuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvYW5ndWxhcjItc21hcnQtdGFibGUvc3JjL2xpYi9jb21wb25lbnRzL3Rib2R5L3Rib2R5LmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2FuZ3VsYXIyLXNtYXJ0LXRhYmxlL3NyYy9saWIvY29tcG9uZW50cy90Ym9keS90Ym9keS5jb21wb25lbnQuaHRtbCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBRUwsU0FBUyxFQUNULFlBQVksRUFDWixLQUFLLEVBRUwsTUFBTSxFQUVOLFlBQVksRUFDWixnQkFBZ0IsRUFDakIsTUFBTSxlQUFlLENBQUM7QUFLdkIsT0FBTyxFQUFDLEtBQUssRUFBQyxNQUFNLGdCQUFnQixDQUFDOzs7Ozs7Ozs7QUFnQnJDLE1BQU0sT0FBTywyQkFBMkI7SUFMeEM7UUFjWSxTQUFJLEdBQUcsSUFBSSxZQUFZLEVBQWEsQ0FBQztRQUNyQyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQWUsQ0FBQztRQUN6QyxXQUFNLEdBQUcsSUFBSSxZQUFZLEVBQXFCLENBQUM7UUFFL0Msa0JBQWEsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBQ3hDLGtCQUFhLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUN4QyxzQkFBaUIsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBQzVDLGFBQVEsR0FBRyxJQUFJLFlBQVksRUFBTyxDQUFDO1FBQ25DLGdCQUFXLEdBQUcsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUtoRCxzQkFBaUIsR0FBWSxLQUFLLENBQUM7S0FzRXBDO0lBcEVDLGVBQWU7UUFDYixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsbUNBQW1DLEVBQUUsQ0FBQztRQUNyRCxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxvQkFBb0IsRUFBRTtZQUNyQyxJQUFJ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QzdELElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsZUFBZSxDQUFDLENBQUM7SUFDN0QsQ0FBQztJQUVELGVBQWUsQ0FBQyxLQUFrQjtRQUNoQyxPQUFPLENBQUMsS0FBSyxJQUFJLEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDdEUsQ0FBQztJQUVELGdCQUFnQixDQUFDLEdBQVE7UUFDdkIsSUFBSSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDN0IsQ0FBQzs7eUhBM0ZVLDJCQUEyQjs2R0FBM0IsMkJBQTJCLGdoQkFtQkksZ0JBQWdCLGtEQ2xENUQsbzJIQWlGQTs0RkRsRGEsMkJBQTJCO2tCQUx2QyxTQUFTOytCQUNFLHFCQUFxQjs4QkFNdEIsSUFBSTtzQkFBWixLQUFLO2dCQUNHLE1BQU07c0JBQWQsS0FBSztnQkFDRyxhQUFhO3NCQUFyQixLQUFLO2dCQUNHLFdBQVc7c0JBQW5CLEtBQUs7Z0JBQ0csVUFBVTtzQkFBbEIsS0FBSztnQkFDRyxnQkFBZ0I7c0JBQXhCLEtBQUs7Z0JBRUksSUFBSTtzQkFBYixNQUFNO2dCQUNHLE1BQU07c0JBQWYsTUFBTTtnQkFDRyxNQUFNO3NCQUFmLE1BQU07Z0JBRUcsYUFBYTtzQkFBdEIsTUFBTTtnQkFDRyxhQUFhO3NCQUF0QixNQUFNO2dCQUNHLGlCQUFpQjtzQkFBMUIsTUFBTTtnQkFDRyxRQUFRO3NCQUFqQixNQUFNO2dCQUNHLFdBQVc7c0JBQXBCLE1BQU07Z0JBRXVELGdCQUFnQjtzQkFBN0UsWUFBWTt1QkFBQyxrQkFBa0IsRUFBRSxFQUFFLElBQUksRUFBRSxnQkFBZ0IsRUFBRSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG4gIEFmdGVyVmlld0luaXQsXG4gIENvbXBvbmVudCxcbiAgRXZlbnRFbWl0dGVyLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPdXRwdXQsXG4gIFF1ZXJ5TGlzdCxcbiAgVmlld0NoaWxkcmVuLFxuICBWaWV3Q29udGFpbmVyUmVmXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQge0dyaWR9IGZyb20gJy4uLy4uL2xpYi9ncmlkJztcbmltcG9ydCB7RGF0YVNvdXJjZX0gZnJvbSAnLi4vLi4vbGliL2RhdGEtc291cmNlL2RhdGEtc291cmNlJztcbmltcG9ydCB7Q2VsbH0gZnJvbSAnLi4vLi4vbGliL2RhdGEtc2V0L2NlbGwnO1xuaW1wb3J0IHtkZWxheX0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHtSb3d9IGZyb20gJy4uLy4uL2xpYi9kYXRhLXNldC9yb3cnO1xuaW1wb3J0IHtcbiAgQ3VzdG9tQWN0aW9uRXZlbnQsXG4gIERlbGV0ZUNvbmZpcm1FdmVudCxcbiAgRGVsZXRlRXZlbnQsXG4gIEVkaXRDYW5jZWxFdmVudCxcbiAgRWRpdENvbmZpcm1FdmVudCxcbiAgRWRpdEV2ZW50XG59IGZyb20gJy4uLy4uL2xpYi9ldmVudHMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdbYW5ndWxhcjItc3QtdGJvZHldJyxcbiAgc3R5bGVVcmxzOiBbJy4vdGJvZHkuY29tcG9uZW50LnNjc3MnXSxcbiAgdGVtcGxhdGVVcmw6ICcuL3Rib2R5LmNvbXBvbmVudC5odG1sJyxcbn0pXG5leHBvcnQgY2xhc3MgTmd4U21hcnRUYWJsZVRib2R5Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCwgT25EZXN0cm95IHtcblxuICBASW5wdXQoKSBncmlkITogR3JpZDtcbiAgQElucHV0KCkgc291cmNlITogRGF0YVNvdXJjZTtcbiAgQElucHV0KCkgZGVsZXRlQ29uZmlybSE6IEV2ZW50RW1pdHRlcjxEZWxldGVDb25maXJtRXZlbnQ+O1xuICBASW5wdXQoKSBlZGl0Q29uZmlybSE6IEV2ZW50RW1pdHRlcjxFZGl0Q29uZmlybUV2ZW50PjtcbiAgQElucHV0KCkgZWRpdENhbmNlbCE6IEV2ZW50RW1pdHRlcjxFZGl0Q2FuY2VsRXZlbnQ+O1xuICBASW5wdXQoKSByb3dDbGFzc0Z1bmN0aW9uITogRnVuY3Rpb247XG5cbiAgQE91dHB1dCgpIGVkaXQgPSBuZXcgRXZlbnRFbWl0dGVyPEVkaXRFdmVudD4oKTtcbiAgQE91dHB1dCgpIGRlbGV0ZSA9IG5ldyBFdmVudEVtaXR0ZXI8RGVsZXRlRXZlbnQ+KCk7XG4gIEBPdXRwdXQoKSBjdXN0b20gPSBuZXcgRXZlbnRFbWl0dGVyPEN1c3RvbUFjdGlvbkV2ZW50PigpO1xuXG4gIEBPdXRwdXQoKSB1c2VyU2VsZWN0Um93ID0gbmV3IEV2ZW50RW1pdHRlcjxSb3c+KCk7XG4gIEBPdXRwdXQoKSBlZGl0Um93U2VsZWN0ID0gbmV3IEV2ZW50RW1pdHRlcjxSb3c+KCk7XG4gIEBPdXRwdXQoKSBtdWx0aXBsZVNlbGVjdFJvdyA9IG5ldyBFdmVudEVtaXR0ZXI8Um93PigpO1xuICBAT3V0cHV0KCkgcm93SG92ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPFJvdz4oKTtcbiAgQE91dHB1dCgpIG9uRXhwYW5kUm93ID0gbmV3IEV2ZW50RW1pdHRlcjxSb3c+KCk7XG5cbiAgQFZpZXdDaGlsZHJlbignZXhwYW5kZWRSb3dDaGlsZCcsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiB9KSBleHBhbmRlZFJvd0NoaWxkITogUXVlcnlMaXN0PFZpZXdDb250YWluZXJSZWY+O1xuXG4gIGV4cGFuZGVkUm93Q29tcG9uZW50OiBhbnk7XG4gIGhhc0NoaWxkQ29tcG9uZW50OiBib29sZWFuID0gZmFsc2U7XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIGxldCBjbXAgPSB0aGlzLmdldEV4cGFuZGVkUm93Q29tcG9uZW50RnJvbVNldHRpbmdzKCk7XG4gICAgaWYgKGNtcCAmJiAhdGhpcy5leHBhbmRlZFJvd0NvbXBvbmVudCkge1xuICAgICAgdGhpcy5leHBhbmRlZFJvd0NoaWxkLmZvckVhY2goYyA9PiBjLmNsZWFyKCkpO1xuICAgICAgdGhpcy5oYXNDaGlsZENvbXBvbmVudCA9IHRydWU7XG4gICAgICB0aGlzLmNyZWF0ZUN1c3RvbUNvbXBvbmVudCgpO1xuICAgIH1cbiAgfVxuXG4gIG5nT25EZXN0cm95KCk6IHZvaWQge1xuICAgIGlmICh0aGlzLmV4cGFuZGVkUm93Q29tcG9uZW50KSB0aGlzLmV4cGFuZGVkUm93Q29tcG9uZW50LmRlc3Ryb3koKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0RXhwYW5kZWRSb3dDb21wb25lbnRGcm9tU2V0dGluZ3MoKTogYW55IHtcbiAgICByZXR1cm4gdGhpcy5ncmlkLnNldHRpbmdzLmV4cGFuZD8uY29tcG9uZW50ID8/IHRoaXMuZ3JpZC5zZXR0aW5ncy5leHBhbmRlZFJvd0NvbXBvbmVudDtcbiAgfVxuXG4gIHByb3RlY3RlZCBjcmVhdGVDdXN0b21Db21wb25lbnQoKSB7XG4gICAgbGV0IGNtcCA9IHRoaXMuZ2V0RXhwYW5kZWRSb3dDb21wb25lbnRGcm9tU2V0dGluZ3MoKTtcbiAgICBpZiAoY21wKSB7XG4gICAgICB0aGlzLmV4cGFuZGVkUm93Q2hpbGQuY2hhbmdlc1xuICAgICAgICAucGlwZShkZWxheSgwKSlcbiAgICAgICAgLnN1YnNjcmliZSgobGlzdDogUXVlcnlMaXN0PFZpZXdDb250YWluZXJSZWY+KSA9PiB7XG4gICAgICAgICAgaWYgKGxpc3QubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmV4cGFuZGVkUm93Q29tcG9uZW50ID0gbGlzdC5maXJzdC5jcmVhdGVDb21wb25lbnQoY21wKTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odGhpcy5leHBhbmRlZFJvd0NvbXBvbmVudC5pbnN0YW5jZSwgdGhpcy5ncmlkLmRhdGFTZXQuZXhwYW5kUm93LCB7XG4gICAgICAgICAgICAgIHJvd0RhdGE6IHRoaXMuZ3JpZC5kYXRhU2V0LmdldEV4cGFuZGVkUm93KCkuZ2V0RGF0YSgpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpc011bHRpU2VsZWN0VmlzaWJsZSE6IGJvb2xlYW47XG4gIHNob3dBY3Rpb25Db2x1bW5MZWZ0ITogYm9vbGVhbjtcbiAgc2hvd0FjdGlvbkNvbHVtblJpZ2h0ITogYm9vbGVhbjtcbiAgbW9kZSE6IHN0cmluZztcbiAgZWRpdElucHV0Q2xhc3MhOiBzdHJpbmc7XG4gIGlzQWN0aW9uQWRkITogYm9vbGVhbjtcbiAgaXNBY3Rpb25FZGl0ITogYm9vbGVhbjtcbiAgaXNBY3Rpb25EZWxldGUhOiBib29sZWFuO1xuICBub0RhdGFNZXNzYWdlITogYm9vbGVhbjtcblxuICBnZXQgdGFibGVDb2x1bW5zQ291bnQoKSB7XG4gICAgY29uc3QgYWN0aW9uQ29sdW1uID0gdGhpcy5pc0FjdGlvbkFkZCB8fCB0aGlzLmlzQWN0aW9uRWRpdCB8fCB0aGlzLmlzQWN0aW9uRGVsZXRlID8gMSA6IDA7XG4gICAgY29uc3Qgc2VsZWN0Q29sdW1uID0gdGhpcy5pc011bHRpU2VsZWN0VmlzaWJsZSA/IDEgOiAwO1xuICAgIHJldHVybiB0aGlzLmdyaWQuZ2V0Q29sdW1ucygpLmxlbmd0aCArIGFjdGlvbkNvbHVtbiArIHNlbGVjdENvbHVtbjtcbiAgfVxuXG4gIG5nT25DaGFuZ2VzKCkge1xuICAgIHRoaXMuaXNNdWx0aVNlbGVjdFZpc2libGUgPSB0aGlzLmdyaWQuaXNNdWx0aVNlbGVjdFZpc2libGUoKTtcbiAgICB0aGlzLnNob3dBY3Rpb25Db2x1bW5MZWZ0ID0gdGhpcy5ncmlkLnNob3dBY3Rpb25Db2x1bW4oJ2xlZnQnKTtcbiAgICB0aGlzLm1vZGUgPSB0aGlzLmdyaWQuZ2V0U2V0dGluZygnbW9kZScpO1xuICAgIHRoaXMuZWRpdElucHV0Q2xhc3MgPSB0aGlzLmdyaWQuZ2V0U2V0dGluZygnZWRpdC5pbnB1dENsYXNzJyk7XG4gICAgdGhpcy5zaG93QWN0aW9uQ29sdW1uUmlnaHQgPSB0aGlzLmdyaWQuc2hvd0FjdGlvbkNvbHVtbigncmlnaHQnKTtcbiAgICB0aGlzLmlzQWN0aW9uQWRkID0gdGhpcy5ncmlkLmdldFNldHRpbmcoJ2FjdGlvbnMuYWRkJyk7XG4gICAgdGhpcy5pc0FjdGlvbkVkaXQgPSB0aGlzLmdyaWQuZ2V0U2V0dGluZygnYWN0aW9ucy5lZGl0Jyk7XG4gICAgdGhpcy5pc0FjdGlvbkRlbGV0ZSA9IHRoaXMuZ3JpZC5nZXRTZXR0aW5nKCdhY3Rpb25zLmRlbGV0ZScpO1xuICAgIHRoaXMubm9EYXRhTWVzc2FnZSA9IHRoaXMuZ3JpZC5nZXRTZXR0aW5nKCdub0RhdGFNZXNzYWdlJyk7XG4gIH1cblxuICBnZXRWaXNpYmxlQ2VsbHMoY2VsbHM6IEFycmF5PENlbGw+KTogQXJyYXk8Q2VsbD4ge1xuICAgIHJldHVybiAoY2VsbHMgfHwgW10pLmZpbHRlcigoY2VsbDogQ2VsbCkgPT4gIWNlbGwuZ2V0Q29sdW1uKCkuaGlkZSk7XG4gIH1cblxuICBvbkV4cGFuZFJvd0NsaWNrKHJvdzogUm93KSB7XG4gICAgdGhpcy5vbkV4cGFuZFJvdy5lbWl0KHJvdyk7XG4gIH1cbn1cbiIsIjxuZy1jb250YWluZXIgICpuZ0Zvcj1cImxldCByb3cgb2YgZ3JpZC5nZXRSb3dzKClcIj5cbiAgPHRyIChjbGljayk9XCJ1c2VyU2VsZWN0Um93LmVtaXQocm93KVwiIChtb3VzZW92ZXIpPVwicm93SG92ZXIuZW1pdChyb3cpXCIgY2xhc3M9XCJhbmd1bGFyMi1zbWFydC1yb3dcIiBbY2xhc3NOYW1lXT1cInJvd0NsYXNzRnVuY3Rpb24ocm93KVwiIFtuZ0NsYXNzXT1cIntzZWxlY3RlZDogcm93LmlzU2VsZWN0ZWR9XCI+XG4gICAgPHRkICpuZ0lmPVwiaXNNdWx0aVNlbGVjdFZpc2libGVcIiBjbGFzcz1cImFuZ3VsYXIyLXNtYXJ0LWFjdGlvbnMgYW5ndWxhcjItc21hcnQtYWN0aW9uLW11bHRpcGxlLXNlbGVjdFwiIChjbGljayk9XCJtdWx0aXBsZVNlbGVjdFJvdy5lbWl0KHJvdylcIj5cbiAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImZvcm0tY2hlY2staW5wdXRcIiBbbmdNb2RlbF09XCJyb3cuaXNTZWxlY3RlZFwiPlxuICAgIDwvdGQ+XG4gICAgPHRkICpuZ0lmPVwiIXJvdy5pc0luRWRpdGluZyAmJiBzaG93QWN0aW9uQ29sdW1uTGVmdFwiIGNsYXNzPVwiYW5ndWxhcjItc21hcnQtYWN0aW9uc1wiPlxuXG4gICAgICA8YW5ndWxhcjItc3QtdGJvZHktY3VzdG9tXG4gICAgICAgIFtncmlkXT1cImdyaWRcIlxuICAgICAgICAoY3VzdG9tKT1cImN1c3RvbS5lbWl0KCRldmVudClcIlxuICAgICAgICBbcm93XT1cInJvd1wiXG4gICAgICAgIFtzb3VyY2VdPVwic291cmNlXCI+XG4gICAgICA8L2FuZ3VsYXIyLXN0LXRib2R5LWN1c3RvbT5cblxuICAgICAgPGFuZ3VsYXIyLXN0LXRib2R5LWV4cGFuZFxuICAgICAgICAgICpuZ0lmPVwiaGFzQ2hpbGRDb21wb25lbnRcIlxuICAgICAgICAgIFtncmlkXT1cImdyaWRcIlxuICAgICAgICAgIFtyb3ddPVwicm93XCJcbiAgICAgICAgICAob25FeHBhbmRSb3cpPVwib25FeHBhbmRSb3cuZW1pdChyb3cpXCI+XG4gICAgICA8L2FuZ3VsYXIyLXN0LXRib2R5LWV4cGFuZD5cblxuICAgICAgPGFuZ3VsYXIyLXN0LXRib2R5LWVkaXQtZGVsZXRlIFtncmlkXT1cImdyaWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGVsZXRlQ29uZmlybV09XCJkZWxldGVDb25maXJtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVkaXQpPVwiZWRpdC5lbWl0KCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGVsZXRlKT1cImRlbGV0ZS5lbWl0KCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWRpdFJvd1NlbGVjdCk9XCJlZGl0Um93U2VsZWN0LmVtaXQoJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtyb3ddPVwicm93XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW3NvdXJjZV09XCJzb3VyY2VcIj5cbiAgICAgIDwvYW5ndWxhcjItc3QtdGJvZHktZWRpdC1kZWxldGU+XG4gICAgPC90ZD5cbiAgICA8dGQgKm5nSWY9XCJyb3cuaXNJbkVkaXRpbmcgJiYgc2hvd0FjdGlvbkNvbHVtbkxlZnRcIiAgY2xhc3M9XCJhbmd1bGFyMi1zbWFydC1hY3Rpb25zXCI+XG4gICAgICA8YW5ndWxhcjItc3QtdGJvZHktY3JlYXRlLWNhbmNlbCBbZ3JpZF09XCJncmlkXCIgW3Jvd109XCJyb3dcIiBbZWRpdENvbmZpcm1dPVwiZWRpdENvbmZpcm1cIiBbZWRpdENhbmNlbF09XCJlZGl0Q2FuY2VsXCI+PC9hbmd1bGFyMi1zdC10Ym9keS1jcmVhdGUtY2FuY2VsPlxuICAgIDwvdGQ+XG4gICAgPHRkICpuZ0Zvcj1cImxldCBjZWxsIG9mIGdldFZpc2libGVDZWxscyhyb3cuY2VsbHMpXCI+XG4gICAgICA8YW5ndWxhcjItc21hcnQtdGFibGUtY2VsbCBbY2VsbF09XCJjZWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZ3JpZF09XCJncmlkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcm93XT1cInJvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2lzTmV3XT1cImZhbHNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbW9kZV09XCJtb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZWRpdENvbmZpcm1dPVwiZWRpdENvbmZpcm1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtlZGl0Q2FuY2VsXT1cImVkaXRDYW5jZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtpbnB1dENsYXNzXT1cImVkaXRJbnB1dENsYXNzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbaXNJbkVkaXRpbmddPVwicm93LmlzSW5FZGl0aW5nXCI+XG4gICAgICA8L2FuZ3VsYXIyLXNtYXJ0LXRhYmxlLWNlbGw+XG4gICAgPC90ZD5cblxuICAgIDx0ZCAqbmdJZj1cInJvdy5pc0luRWRpdGluZyAmJiBzaG93QWN0aW9uQ29sdW1uUmlnaHRcIiAgY2xhc3M9XCJhbmd1bGFyMi1zbWFydC1hY3Rpb25zXCI+XG4gICAgICA8YW5ndWxhcjItc3QtdGJvZHktY3JlYXRlLWNhbmNlbCBbZ3JpZF09XCJncmlkXCIgW3Jvd109XCJyb3dcIiBbZWRpdENvbmZpcm1dPVwiZWRpdENvbmZpcm1cIiBbZWRpdENhbmNlbF09XCJlZGl0Q2FuY2VsXCI+PC9hbmd1bGFyMi1zdC10Ym9keS1jcmVhdGUtY2FuY2VsPlxuICAgIDwvdGQ+XG5cbiAgICA8dGQgKm5nSWY9XCIhcm93LmlzSW5FZGl0aW5nICYmIHNob3dBY3Rpb25Db2x1bW5SaWdodFwiIGNsYXNzPVwiYW5ndWxhcjItc21hcnQtYWN0aW9uc1wiPlxuICAgICAgPGFuZ3VsYXIyLXN0LXRib2R5LWN1c3RvbSBbZ3JpZF09XCJncmlkXCIgKGN1c3RvbSk9XCJjdXN0b20uZW1pdCgkZXZlbnQpXCIgW3Jvd109XCJyb3dcIiBbc291cmNlXT1cInNvdXJjZVwiPjwvYW5ndWxhcjItc3QtdGJvZHktY3VzdG9tPlxuXG4gICAgICA8YW5ndWxhcjItc3QtdGJvZHktZXhwYW5kXG4gICAgICAgICAgKm5nSWY9XCJoYXNDaGlsZENvbXBvbmVudFwiXG4gICAgICAgICAgW2dyaWRdPVwiZ3JpZFwiXG4gICAgICAgICAgW3Jvd109XCJyb3dcIlxuICAgICAgICAgIChvbkV4cGFuZFJvdyk9XCJvbkV4cGFuZFJvdy5lbWl0KHJvdylcIj5cbiAgICAgIDwvYW5ndWxhcjItc3QtdGJvZHktZXhwYW5kPlxuXG4gICAgICA8YW5ndWxhcjItc3QtdGJvZHktZWRpdC1kZWxldGUgW2dyaWRdPVwiZ3JpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkZWxldGVDb25maXJtXT1cImRlbGV0ZUNvbmZpcm1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbcm93XT1cInJvd1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtzb3VyY2VdPVwic291cmNlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGVkaXQpPVwiZWRpdC5lbWl0KCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZGVsZXRlKT1cImRlbGV0ZS5lbWl0KCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoZWRpdFJvd1NlbGVjdCk9XCJlZGl0Um93U2VsZWN0LmVtaXQoJGV2ZW50KVwiPlxuICAgICAgPC9hbmd1bGFyMi1zdC10Ym9keS1lZGl0LWRlbGV0ZT5cbiAgICA8L3RkPlxuICA8L3RyPlxuICA8dHIgY2xhc3M9XCJhbmd1bGFyMi1zbWFydC1yb3cgYW5ndWxhcjItc21hcnQtcm93LWRldGFpbFwiICpuZ0lmPVwicm93LmlzRXhwYW5kZWRcIj5cbiAgICA8dGQgW2F0dHIuY29sc3Bhbl09XCJ0YWJsZUNvbHVtbnNDb3VudFwiIGNsYXNzPVwiYW5ndWxhcjItc21hcnQtY29sdW1uLWV4cGFuZGVkRGV0YWlsXCI+XG4gICAgICA8bmctdGVtcGxhdGUgI2V4cGFuZGVkUm93Q2hpbGQgPjwvbmctdGVtcGxhdGU+XG4gICAgPC90ZD5cbiAgPC90cj5cbjwvbmctY29udGFpbmVyPlxuPHRyICpuZ0lmPVwiZ3JpZC5nZXRSb3dzKCkubGVuZ3RoID09IDBcIj5cbiAgPHRkIFthdHRyLmNvbHNwYW5dPVwidGFibGVDb2x1bW5zQ291bnRcIj5cbiAgICB7eyBub0RhdGFNZXNzYWdlIH19XG4gIDwvdGQ+XG48L3RyPlxuIl19